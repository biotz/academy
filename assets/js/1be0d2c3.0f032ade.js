"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[981],{4006:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>r,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>c,toc:()=>l});var i=t(4848),n=t(8453);const a={sidebar_position:4,sidebar_label:"Sending message"},o="Sending the message",c={id:"Examples/MQTTX/Message",title:"Sending the message",description:'After doing all the above mentioned process, you would have to go to the MQTTX application that you installed previously and click on the "+" icon.',source:"@site/docs/Examples/MQTTX/Message.md",sourceDirName:"Examples/MQTTX",slug:"/Examples/MQTTX/Message",permalink:"/docs/Examples/MQTTX/Message",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,sidebar_label:"Sending message"},sidebar:"tutorialSidebar",previous:{title:"Getting data",permalink:"/docs/Examples/MQTTX/Get data"}},r={},l=[{value:"Message with wrong JSON payload",id:"message-with-wrong-json-payload",level:2},{value:"Message with correct JSON payload",id:"message-with-correct-json-payload",level:2}];function d(e){const s={code:"code",h1:"h1",h2:"h2",img:"img",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h1,{id:"sending-the-message",children:"Sending the message"}),"\n",(0,i.jsx)(s.p,{children:'After doing all the above mentioned process, you would have to go to the MQTTX application that you installed previously and click on the "+" icon.'}),"\n",(0,i.jsx)("div",{class:"tutorial-image-container",children:(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"icon",src:t(2778).A+"",width:"73",height:"698"})})}),"\n",(0,i.jsx)(s.p,{children:"Enter the connection details such as the connection name, the MQTT server address, the port, the username and password. You will have this information in the excel you got from app.biotz.io. And the rest of the configuration is on these two pictures:"}),"\n",(0,i.jsx)("div",{class:"tutorial-image-container",children:(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"configuration",src:t(8785).A+"",width:"730",height:"692"})})}),"\n",(0,i.jsx)("div",{class:"tutorial-image-container",children:(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"configuration",src:t(4122).A+"",width:"730",height:"690"})})}),"\n",(0,i.jsx)(s.p,{children:'Once you have configured everything correctly, click "Save" or "Connect" to save the configuration and establish the connection.\nOnce you are connected, you can post messages to a specific topic or subscribe to a topic to receive messages.'}),"\n",(0,i.jsx)(s.p,{children:'To post messages, click on the "Post" icon and fill in the message and topic details.\nTo subscribe to a topic, click on the "Subscribe" icon and enter the name of the topic you wish to subscribe to.'}),"\n",(0,i.jsx)(s.p,{children:"This time you are going to do a test to publish a message and establish a connection with Biotz."}),"\n",(0,i.jsx)(s.p,{children:"You are going to create two different messages, one will be incorrect and one will be correct, and you will see the difference between both."}),"\n",(0,i.jsx)(s.h2,{id:"message-with-wrong-json-payload",children:"Message with wrong JSON payload"}),"\n",(0,i.jsx)(s.p,{children:"In topic, you will have to write something similar to this with the data of the excel. Aqui sera importante poner cada dato correctamente para que al establecer la conexion, sea correcto."}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"  biotz/1/0/d12af5ca-6120-494e-90e4-63a4036f45f9/dcbed620-4992-4695-8207-25e889b9e0c3/subscribe/action/data\n"})}),"\n",(0,i.jsx)(s.p,{children:"And between the braces, the following JSON payload"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-JSON",children:' "msg": "hello"\n'})}),"\n",(0,i.jsx)(s.p,{children:"When doing that, this is what you will send:"}),"\n",(0,i.jsx)("div",{class:"tutorial-image-container",children:(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"Message",src:t(2835).A+"",width:"916",height:"123"})})}),"\n",(0,i.jsx)(s.p,{children:"You will return to app.biotz.io, this time you will enter in developer tools, and inside developer tools in communications debugger. You will see this box with two pieces of information to fill in:"}),"\n",(0,i.jsx)("div",{class:"tutorial-image-container",children:(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"box",src:t(3956).A+"",width:"423",height:"287"})})}),"\n",(0,i.jsx)(s.p,{children:"In select device, write the name with which we have sent the message and in the select message type the type of message that you have configured, in this case, temp-lumin."}),"\n",(0,i.jsx)(s.p,{children:"If you have sent the first message you will see this:"}),"\n",(0,i.jsx)("div",{class:"tutorial-image-container",children:(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"box",src:t(7211).A+"",width:"489",height:"256"})})}),"\n",(0,i.jsx)(s.p,{children:'As you can see, the following error will appear, this indicates that the message is not sent correctly. The message appears to be a simple JSON object with a key "msg" and a value "hello". If the receiving system expects a specific format or is configured to process only certain types of messages, it may generate an error when receiving a message with a different format.'}),"\n",(0,i.jsx)(s.p,{children:"Now you will return to MQTTX app and you will send it in this other way."}),"\n",(0,i.jsx)(s.h2,{id:"message-with-correct-json-payload",children:"Message with correct JSON payload"}),"\n",(0,i.jsx)(s.p,{children:"You are going to publish the message in another way so that it works, and this time there will be no errors, so the message will be sent correctly."}),"\n",(0,i.jsx)(s.p,{children:"You will need to replace what was inside the braces with this JSON payload:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-JSON",children:'"temperature": 25.7,\n"luminosity": 67,\n"timestamp": "1710519995000"\n'})}),"\n",(0,i.jsx)(s.p,{children:"This message appears to be a data set that includes temperature and luminosity information, along with a timestamp.\nWhen doing that, this is what you will send:"}),"\n",(0,i.jsx)("div",{class:"tutorial-image-container",children:(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"Message",src:t(8952).A+"",width:"918",height:"154"})})}),"\n",(0,i.jsx)(s.p,{children:"Then return to app.biotz.io and by doing the same process you did when sending the wrong message, this is what you'll encounter this time."}),"\n",(0,i.jsx)("div",{class:"tutorial-image-container",children:(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"Message",src:t(8676).A+"",width:"497",height:"198"})})}),"\n",(0,i.jsx)(s.p,{children:"As you can see in the image, this time there are no errors because the message formatting is correct.\nIn this way, you have been able to establish a connection with Biotz using the MQTTX app."}),"\n",(0,i.jsx)(s.p,{children:"to connect and disconnect in MQTTX you have to use this connect button"}),"\n",(0,i.jsx)("div",{class:"tutorial-image-container",children:(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"Message",src:t(9947).A+"",width:"1499",height:"236"})})})]})}function h(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},2835:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/1-message-b029ec6aab24e5af2c828d49d1c3fe80.png"},8952:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/2-message-301bbc84f44cb4c9f690222dbe56f7ac.png"},8785:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/configuration1-29d4eba5d6f0502c2559220921137150.png"},4122:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/configuration2-adbbe9139fbe5c48de7b1e5bdece6ee5.png"},9947:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/connect-disconnect-b1dd700ff793e03ddd961dbb5086ada3.png"},8676:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/correct-message-aa6522626465463eee8ce4624d224d55.png"},7211:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/incorrect-message-092f687bf9823aff62d35ebda7f94105.png"},2778:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/plus-icon-0da2e8304f01e86cab687c55ac0db2da.png"},3956:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/two-pieces-d72fdbfa5079480bb71086050870182e.png"},8453:(e,s,t)=>{t.d(s,{R:()=>o,x:()=>c});var i=t(6540);const n={},a=i.createContext(n);function o(e){const s=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),i.createElement(a.Provider,{value:s},e.children)}}}]);