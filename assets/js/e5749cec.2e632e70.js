"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1448],{7729:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>d});var i=n(4848),o=n(8453);const s={},r=void 0,a={id:"Tutorials/Step 5 - Authenticating  a device",title:"Step 5 - Authenticating  a device",description:"In this tutorial, as said in the beginning, the data sending will be simulated. To do so, you will make an HTTP request to the http-forwarder service of Biotz which will, as the name implies, forward your data ingestion request to the competent services. That is the reason why you chose the HTTP communication protocol before when creating a message type.",source:"@site/docs/Tutorials/Step 5 - Authenticating  a device.md",sourceDirName:"Tutorials",slug:"/Tutorials/Step 5 - Authenticating  a device",permalink:"/academy/docs/Tutorials/Step 5 - Authenticating  a device",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Step 4 - Creating  a device",permalink:"/academy/docs/Tutorials/Step 4 - Creating  a device"},next:{title:"Step 6 - Sending a data ingestion request",permalink:"/academy/docs/Tutorials/Step 6 - Sending a data ingestion request"}},l={},d=[];function c(e){const t={code:"code",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["In this tutorial, as said in the beginning, the data sending will be simulated. To do so, you will make an HTTP request to the ",(0,i.jsx)(t.strong,{children:"http-forwarder"})," service of Biotz which will, as the name implies, forward your data ingestion request to the competent services. That is the reason why you chose the ",(0,i.jsx)(t.strong,{children:"HTTP communication protocol"})," before when creating a message type."]}),"\n",(0,i.jsxs)(t.p,{children:["However in order to call the ",(0,i.jsx)(t.strong,{children:"http-forwarder"})," service you have to identify yourself and retrieve a credential, a token that will be used to validate your identity. For that, You will be using some of the credentials you have downloaded in the previous step, during the device creation process. To retrieve a token you will need to authenticate against Biotz identity provider using the following information:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.strong,{children:"Username: the HTTP Username value in the credentials file."})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.strong,{children:"Password: the Password value in the credentials file."})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.strong,{children:"Client ID: biotz-platform-devices"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.strong,{children:"Grant type: password"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.strong,{children:"Scope: openid"})}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["With that information you can craft an HTTP request for this simulation to get the token. In this tutorial, it is assumed you have some experience working the terminal. As said at the beginning of this tutorial, ",(0,i.jsx)(t.strong,{children:"HTTPie"})," and ",(0,i.jsx)(t.strong,{children:"cURL"})," tools will be used to provide examples for HTTP requests. Here is the request to retrieve the token using both tools (please make sure to adjust the request with your own credentials):"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-jsx",metastring:'title="HTTPie"',children:"http --form POST \\\nhttps://auth.biotz.io/realms/biotz-platform/protocol/openid-connect/token \\\nusername=~HTTP USER FROM CSV~ \\\npassword=~PASSWORD FROM CSV~ \\\ngrant_type=password \\\nclient_id=biotz-platform-devices \\\nscope=openid \n"})}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-jsx",metastring:'title="cURL"',children:"curl --request POST \\\n--url https://auth.biotz.io/realms/biotz-platform/protocol/openid-connect/token \\\n--data-urlencode username=~HTTP USERNAME FROM CSV~ \\\n--data-urlencode password=~PASSWORD FROM CSV~ \\\n--data-urlencode client_id=biotz-platform-devices \\\n--data-urlencode grant_type=password \\\n--data-urlencode scope=openid\n"})}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsxs)(t.p,{children:["This will return a response which contains the ",(0,i.jsx)(t.strong,{children:"id_token"}),". Copy its value and hold on to it as you will need it to ",(0,i.jsx)("a",{href:"http://localhost:3000/docs/Tutorials/Step%206%20-%20Sending%20a%20data%20ingestion%20request/",target:"_self",children:"send the data ingestion request"}),".\n\u200d"]})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var i=n(6540);const o={},s=i.createContext(o);function r(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);